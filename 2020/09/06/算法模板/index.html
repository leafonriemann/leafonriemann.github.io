<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="算法模板">
<meta property="og:type" content="article">
<meta property="og:title" content="算法模板">
<meta property="og:url" content="http://yoursite.com/2020/09/06/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="算法模板">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-09-06T12:46:12.000Z">
<meta property="article:modified_time" content="2020-09-28T13:24:19.360Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2020/09/06/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>算法模板 | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/06/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          算法模板
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-06 20:46:12" itemprop="dateCreated datePublished" datetime="2020-09-06T20:46:12+08:00">2020-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-28 21:24:19" itemprop="dateModified" datetime="2020-09-28T21:24:19+08:00">2020-09-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          
            <div class="post-description"><center> 算法模板 </center></div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <a id="more"></a>

<h1 id="算法模板-肌肉记忆熟练度"><a href="#算法模板-肌肉记忆熟练度" class="headerlink" title="算法模板(肌肉记忆熟练度)"></a>算法模板(肌肉记忆熟练度)</h1><h2 id="排列组合枚举"><a href="#排列组合枚举" class="headerlink" title="排列组合枚举"></a>排列组合枚举</h2><h3 id="next-permutation"><a href="#next-permutation" class="headerlink" title="next_permutation"></a>next_permutation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#next_permutation</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nextP</span><span class="params">(index)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(index):</span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">2</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> s[i] &lt; s[i + <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(n - <span class="number">1</span>, i ,<span class="number">-1</span>):</span><br><span class="line">                    <span class="keyword">if</span> s[j] &gt; s[i]:</span><br><span class="line">                        s[i],s[j] = s[j],s[i]</span><br><span class="line">                        s[i+<span class="number">1</span>:] = sorted(s[i + <span class="number">1</span>:])</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                    s.sort()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n = int(input())</span><br><span class="line">index = int(input())</span><br><span class="line">s = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line">nextP(index)</span><br><span class="line">print(<span class="string">' '</span>.join(map(str,s)))</span><br></pre></td></tr></table></figure>

<h3 id="pre-permutation"><a href="#pre-permutation" class="headerlink" title="pre_permutation"></a>pre_permutation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pre_permutation</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">preP</span><span class="params">(index)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> s </span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(index):</span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">2</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> s[i] &gt; s[i + <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(n - <span class="number">1</span>, i ,<span class="number">-1</span>):</span><br><span class="line">                    <span class="keyword">if</span> s[j] &lt; s[i]:</span><br><span class="line">                        s[i],s[j] = s[j],s[i]</span><br><span class="line">                        s[i+<span class="number">1</span>:] = sorted(s[i + <span class="number">1</span>:],reverse = <span class="literal">True</span>)</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                    s = sorted(s,reverse = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n = int(input())</span><br><span class="line">index = int(input())</span><br><span class="line">s = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">preP(index)</span><br><span class="line">print(<span class="string">' '</span>.join(map(str,s)))</span><br></pre></td></tr></table></figure>



<h3 id="递归实现排列型枚举"><a href="#递归实现排列型枚举" class="headerlink" title="递归实现排列型枚举"></a>递归实现排列型枚举</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#递归实现排列型枚举</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line">n = int(input())</span><br><span class="line">s = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> permutations(s):</span><br><span class="line">    print(<span class="string">' '</span>.join(map(str,var)))</span><br></pre></td></tr></table></figure>



<h3 id="递归实现指数型枚举"><a href="#递归实现指数型枚举" class="headerlink" title="递归实现指数型枚举"></a>递归实现指数型枚举</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#92. 递归实现指数型枚举</span></span><br><span class="line">n = int(input())</span><br><span class="line">vis = [<span class="literal">False</span>]*n</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> index == n:</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> vis[i]:</span><br><span class="line">                res.append(str(i + <span class="number">1</span>))</span><br><span class="line">        print(<span class="string">' '</span>.join(res))</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="comment">#两种情况</span></span><br><span class="line">    vis[index] = <span class="literal">True</span></span><br><span class="line">    dfs(index + <span class="number">1</span>)</span><br><span class="line">    vis[index] = <span class="literal">False</span></span><br><span class="line">    dfs(index + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">dfs(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h3 id="递归实现组合型枚举"><a href="#递归实现组合型枚举" class="headerlink" title="递归实现组合型枚举"></a>递归实现组合型枚举</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#递归实现组合型枚举</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> combinations</span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">arr = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> combinations(arr,m):</span><br><span class="line">    print(<span class="string">' '</span>.join(map(str,var)))</span><br></pre></td></tr></table></figure>



<h2 id="RMQ算法-ST表"><a href="#RMQ算法-ST表" class="headerlink" title="RMQ算法(ST表)"></a>RMQ算法(ST表)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ST算法(索引版)</span></span><br><span class="line"><span class="comment">#返回最大值索引版</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> log <span class="keyword">as</span> log</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ST_prework</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        f[i][<span class="number">0</span>] = i  <span class="comment">#初始区间长度为2^0的阶段</span></span><br><span class="line">    t = int(log(n,<span class="number">2</span>)) + <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,t):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - (<span class="number">1</span>&lt;&lt;j) + <span class="number">1</span>):</span><br><span class="line">            a = f[i][j<span class="number">-1</span>]</span><br><span class="line">            b = f[i + (<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">if</span> arr[a] &gt;= arr[b]: <span class="comment">#这里一定要注意，一定是大于等于，因为如果两个数相等，我们要选前面一个，这样保证后面那个一样大小的数在需要时也能被选到</span></span><br><span class="line">                f[i][j] = a</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                f[i][j] = b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ST_query</span><span class="params">(L,R)</span>:</span></span><br><span class="line">    k = int(log(R - L + <span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">    a = f[L][k]</span><br><span class="line">    b = f[R - (<span class="number">1</span>&lt;&lt;k) + <span class="number">1</span>][k]</span><br><span class="line">    <span class="keyword">if</span> arr[a] &gt;= arr[b]:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n,m = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">arr = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">f = [[<span class="number">0</span>]*(n+<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    temp = input().split()</span><br><span class="line">    data.append((int(temp[<span class="number">0</span>]),int(temp[<span class="number">1</span>])))</span><br><span class="line">    </span><br><span class="line">ST_prework(n) <span class="comment">#预处理</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    print(arr[ST_query(data[i][<span class="number">0</span>]<span class="number">-1</span>,data[i][<span class="number">1</span>]<span class="number">-1</span>)])</span><br></pre></td></tr></table></figure>



<h2 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#基于字典构建的一个链式树结构</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UFS</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""并查集"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""初始化两个字典，一个保存节点的父节点，另外一个保存父节点的大小</span></span><br><span class="line"><span class="string">        初始化的时候，将节点的父节点设为自身，size设为1"""</span></span><br><span class="line">        self.father = &#123;&#125;                                  <span class="comment">#初始父节点可以设置为-1或它自己，这里设置为它自己</span></span><br><span class="line">        self.size = &#123;&#125;                                    <span class="comment">#记录根的规模</span></span><br><span class="line">        self.twigs = set()                                     <span class="comment">#记录连枝</span></span><br><span class="line">        self.root_num = n                                <span class="comment">#设置初始根数                    </span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">            self.father[node] = node                      <span class="comment">#初始父节点可以设置为-1或它自己，这里设置为它自己</span></span><br><span class="line">            self.size[node] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRoot</span><span class="params">(self, node)</span>:</span>                                <span class="comment">#查找根节点</span></span><br><span class="line">        <span class="string">"""使用递归的方式来查找父节点         ##查找根节点</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        在查找父节点的时候，顺便把当前节点移动到父节点上面  </span></span><br><span class="line"><span class="string">        这个操作算是一个优化</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        father = self.father[node]</span><br><span class="line">        <span class="keyword">if</span>(node != father):</span><br><span class="line">            father = self.findRoot(father)</span><br><span class="line">        self.father[node] = father                     <span class="comment">#优化，把经过的点都直接连接根节点</span></span><br><span class="line">        <span class="keyword">return</span> father</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_same_set</span><span class="params">(self, node_a, node_b)</span>:</span></span><br><span class="line">        <span class="string">"""查看两个节点是不是在一个集合里面"""</span></span><br><span class="line">        <span class="keyword">return</span> self.findRoot(node_a) == self.findRoot(node_b)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, node_a, node_b)</span>:</span></span><br><span class="line">        <span class="string">"""将两个集合合并在一起"""</span></span><br><span class="line">        root_a = self.findRoot(node_a)</span><br><span class="line">        root_b = self.findRoot(node_b)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(root_a != root_b):                               <span class="comment">#如果根节点相同则(已经合并在一起)</span></span><br><span class="line">            <span class="keyword">if</span>(self.size[root_a] &gt;= self.size[root_b]):                   <span class="comment">#如果根节点，判断所连接节点的根节点规模哪一个更大，用更大规模的根节点作为连接节点</span></span><br><span class="line">                self.father[root_b] = root_a                 <span class="comment">#连接节点</span></span><br><span class="line">                self.size[root_a] += self.size[root_b]  <span class="comment">#更新深度</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self.father[root_a] = root_b                <span class="comment">#连接节点</span></span><br><span class="line">                self.size[root_b] += self.size[root_a]   <span class="comment">#更新深度</span></span><br><span class="line">            self.root_num -= <span class="number">1</span>                                    <span class="comment">#若合并成功，总根数减一</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">else</span>:                                               <span class="comment">#如果根节点相同则(已经合并在一起)</span></span><br><span class="line">            <span class="string">"""如果根节点相同则说明此时的两个节点已经</span></span><br><span class="line"><span class="string">            接入一个集合，并且，由于这两个节点之间相连</span></span><br><span class="line"><span class="string">            说明由这两节点形成了一个闭合的环，同时这两节点成为环的  连枝</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            self.twigs.add((node_a,node_b))                       <span class="comment">#将连枝加入到集合中</span></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countint_of_root</span><span class="params">(self)</span>:</span>                                   <span class="comment">#记录合并后的根数</span></span><br><span class="line">        <span class="keyword">return</span> self.root_num</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_cirle_exist</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(self.twigs)!=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_twigs</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.twigs)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twigs_num</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.twigs)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">n = int(input())	</span><br><span class="line">ufs = UFS(n)</span><br><span class="line">    </span><br><span class="line">k = int(input())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(k):</span><br><span class="line">    a,b = map(int,input().split())</span><br><span class="line">    ufs.union(a,b)</span><br><span class="line">		</span><br><span class="line">print(ufs.root_num)  <span class="comment"># True 根数</span></span><br></pre></td></tr></table></figure>



<h2 id="单源最短路径"><a href="#单源最短路径" class="headerlink" title="单源最短路径"></a>单源最短路径</h2><h3 id="SPFA算法"><a href="#SPFA算法" class="headerlink" title="SPFA算法"></a>SPFA算法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#SPFA算法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SPFA</span><span class="params">(start)</span>:</span></span><br><span class="line">    queue = [start]</span><br><span class="line">    inq = [<span class="literal">False</span>]*(n+<span class="number">1</span>)  <span class="comment">#判断是否在队列中</span></span><br><span class="line">    dis = [float(<span class="string">'inf'</span>)]*(n+<span class="number">1</span>)</span><br><span class="line">    dis[start] = <span class="number">0</span></span><br><span class="line">    inq[start] = <span class="literal">True</span>     <span class="comment">#这是优化点，避免重复入队</span></span><br><span class="line">    <span class="keyword">while</span> queue:</span><br><span class="line">        </span><br><span class="line">        sam = queue.pop(<span class="number">0</span>)</span><br><span class="line">        inq[sam] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> sam <span class="keyword">not</span> <span class="keyword">in</span> link.keys(): <span class="comment">#防止节点孤立</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> link[sam]:</span><br><span class="line">            <span class="keyword">if</span> dis[node] &gt; dis[sam] + link[sam][node]:</span><br><span class="line">                dis[node] = dis[sam] + link[sam][node]</span><br><span class="line">                <span class="keyword">if</span> inq[node] == <span class="literal">True</span>:  <span class="comment">#如果在队列中则不管他</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                inq[node] = <span class="literal">True</span></span><br><span class="line">                queue.append(node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dis</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n,m,s,t = map(int,input().split())</span><br><span class="line"></span><br><span class="line">link = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    a,b,c = map(int,input().split())</span><br><span class="line">    <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> link.keys():</span><br><span class="line">        link[a] = &#123;b:c&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> b <span class="keyword">not</span> <span class="keyword">in</span> link[a].keys():</span><br><span class="line">            link[a].update(&#123;b:c&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> c &lt; link[a][b]:</span><br><span class="line">                link[a][b] = c</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> b <span class="keyword">not</span> <span class="keyword">in</span> link.keys():</span><br><span class="line">        link[b] = &#123;a:c&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> link[b].keys():</span><br><span class="line">            link[b].update(&#123;a:c&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> c &lt; link[b][a]:</span><br><span class="line">                link[b][a] = c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dis = SPFA(s)</span><br><span class="line"><span class="comment">#print(parent)</span></span><br><span class="line">print(dis[t])</span><br></pre></td></tr></table></figure>



<h3 id="dijkstra算法-优先队列实现"><a href="#dijkstra算法-优先队列实现" class="headerlink" title="dijkstra算法(优先队列实现)"></a>dijkstra算法(优先队列实现)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#迪科斯彻算法(优先队列)</span></span><br><span class="line"><span class="keyword">import</span> heapq <span class="comment">#注意，优先队列是传入的一个元组，而元组的第一个值决定了该元组的优先值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dijkstra</span><span class="params">(start)</span>:</span></span><br><span class="line">    pqueue = []</span><br><span class="line">    heapq.heappush(pqueue,(<span class="number">0</span>,start))     <span class="comment">#使用heapq中的heappush方法来读入一个元组</span></span><br><span class="line">    vis = [<span class="literal">False</span>]*(n+<span class="number">1</span>)                  <span class="comment">#(距离,节点)的形式</span></span><br><span class="line">    dis = [float(<span class="string">'inf'</span>)]*(n+<span class="number">1</span>)</span><br><span class="line">    dis[start] = <span class="number">0</span></span><br><span class="line">    parent = [<span class="number">0</span>]*(n+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> pqueue:</span><br><span class="line">        sam = heapq.heappop(pqueue)  <span class="comment">#取出队头</span></span><br><span class="line">        curNode = sam[<span class="number">1</span>]  </span><br><span class="line">        curDis = sam[<span class="number">0</span>]   <span class="comment">#取出的就是当前最短路径</span></span><br><span class="line">        vis[curNode] = <span class="literal">True</span>  <span class="comment">#取出队列后才算使用过</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> curNode <span class="keyword">not</span> <span class="keyword">in</span> link.keys(): <span class="comment">#防止节点孤立状态</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> link[curNode]:</span><br><span class="line">            <span class="keyword">if</span> vis[node] == <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">if</span> curDis + link[curNode][node] &lt; dis[node]:</span><br><span class="line">                    heapq.heappush(pqueue,(curDis + link[curNode][node],node))</span><br><span class="line">                    parent[node] = curNode</span><br><span class="line">                    dis[node] = curDis + link[curNode][node]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> parent,dis</span><br><span class="line"></span><br><span class="line">n,m,s,t = map(int,input().split())</span><br><span class="line"></span><br><span class="line">link = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    a,b,c = map(int,input().split())</span><br><span class="line">    <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> link.keys():</span><br><span class="line">        link[a] = &#123;b:c&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> b <span class="keyword">not</span> <span class="keyword">in</span> link[a].keys():</span><br><span class="line">            link[a].update(&#123;b:c&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> c &lt; link[a][b]:</span><br><span class="line">                link[a][b] = c</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> b <span class="keyword">not</span> <span class="keyword">in</span> link.keys():</span><br><span class="line">        link[b] = &#123;a:c&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> link[b].keys():</span><br><span class="line">            link[b].update(&#123;a:c&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> c &lt; link[b][a]:</span><br><span class="line">                link[b][a] = c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">parent,dis = dijkstra(s)</span><br><span class="line"><span class="comment">#print(parent)</span></span><br><span class="line">print(dis[t])</span><br></pre></td></tr></table></figure>



<h2 id="二分算法"><a href="#二分算法" class="headerlink" title="二分算法"></a>二分算法</h2><h3 id="二分法求最大满足"><a href="#二分法求最大满足" class="headerlink" title="二分法求最大满足"></a>二分法求最大满足</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#二分求最大满足</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isok</span><span class="params">(index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> s[index] &lt;= goal:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bin_search</span><span class="params">()</span>:</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(s) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left &lt; right:</span><br><span class="line">        mid = left + right + <span class="number">1</span> &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> isok(mid):</span><br><span class="line">            left = mid</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># if s[left] != goal return -1 查不到</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">goal = int(input())</span><br><span class="line">print(bin_search())</span><br></pre></td></tr></table></figure>



<h3 id="二分法求最小满足"><a href="#二分法求最小满足" class="headerlink" title="二分法求最小满足"></a>二分法求最小满足</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#二分求最小满足</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isok</span><span class="params">(index)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> s[index] &gt;= goal:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bin_search</span><span class="params">()</span>:</span></span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(s) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> left &lt; right:</span><br><span class="line">        mid = left + right &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> isok(mid):</span><br><span class="line">            right = mid</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># if s[left] != goal return -1 查不到</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">goal = int(input())</span><br><span class="line">print(bin_search())</span><br></pre></td></tr></table></figure>



<h2 id="矩阵快速幂-斐波那契前n项和为例"><a href="#矩阵快速幂-斐波那契前n项和为例" class="headerlink" title="矩阵快速幂(斐波那契前n项和为例)"></a>矩阵快速幂(斐波那契前n项和为例)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#矩阵快速幂</span></span><br><span class="line"><span class="comment">#斐波那契前n项和</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mul_1</span><span class="params">(a,b)</span>:</span>  <span class="comment">#一维与二维</span></span><br><span class="line">    temp = [<span class="number">0</span>]*N</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">            temp[i] = (temp[i] + a[j]*b[j][i])%m</span><br><span class="line">    <span class="keyword">return</span> temp</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mul_2</span><span class="params">(a,b)</span>:</span>  <span class="comment">#二维与二维</span></span><br><span class="line">    temp = [[<span class="number">0</span>]*(N) <span class="keyword">for</span> i <span class="keyword">in</span> range(N)]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(N):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(N):</span><br><span class="line">                temp[i][j] = (temp[i][j] + a[i][k]*b[k][j])%m;</span><br><span class="line">    <span class="keyword">return</span> temp</span><br><span class="line"></span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">N = <span class="number">3</span> <span class="comment">#矩阵的大小</span></span><br><span class="line">f = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">       </span><br><span class="line">A = [[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line">     [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">     [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">     </span><br><span class="line">p = n - <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> p:</span><br><span class="line">    <span class="keyword">if</span> p &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">        f = mul_1(f,A)</span><br><span class="line">    A = mul_2(A,A)</span><br><span class="line">    p &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(f[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>



<h2 id="状态压缩DP"><a href="#状态压缩DP" class="headerlink" title="状态压缩DP"></a>状态压缩DP</h2><h3 id="旅行商问题"><a href="#旅行商问题" class="headerlink" title="旅行商问题"></a>旅行商问题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最短Hamilton路径</span></span><br><span class="line"><span class="comment">#二进制状态压缩</span></span><br><span class="line">n = int(input())</span><br><span class="line">cost = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">    cost.append([int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()])</span><br><span class="line"></span><br><span class="line">f = [[float(<span class="string">'inf'</span>)]*(n + <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span> &lt;&lt; n)]</span><br><span class="line"></span><br><span class="line">f[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1</span> &lt;&lt; n):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">if</span> (i &gt;&gt; j) &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> (i &gt;&gt; k) &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">                    f[i][j] = min(f[i][j],f[ i ^ (<span class="number">1</span> &lt;&lt; j)][k] + cost[k][j])</span><br><span class="line"></span><br><span class="line">print(f[(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>][n - <span class="number">1</span>])</span><br></pre></td></tr></table></figure>



<h2 id="逆序对"><a href="#逆序对" class="headerlink" title="逆序对"></a>逆序对</h2><h3 id="归并排序版"><a href="#归并排序版" class="headerlink" title="归并排序版"></a>归并排序版</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#归并排序版</span></span><br><span class="line"><span class="comment">#小朋友排队</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="comment">#利用归并计算  逆序数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(s)</span>:</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span> :</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    mid = n//<span class="number">2</span></span><br><span class="line">    s_left = merge(s[:mid])</span><br><span class="line">    s_right = merge(s[mid:])</span><br><span class="line"></span><br><span class="line">    i,j = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">while</span> i&lt;len(s_left) <span class="keyword">and</span> j &lt; len(s_right):</span><br><span class="line">        <span class="keyword">if</span> s_left[i].high &gt; s_right[j].high:</span><br><span class="line">            result.append(s_right[j])</span><br><span class="line">            s_right[i].hate += (len(s_left)-i)</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(s_left[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    result += s_right[j:]</span><br><span class="line">    result += s_left[i:]</span><br><span class="line">    </span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    if i &lt; len(s_left):</span></span><br><span class="line"><span class="string">        result += s_left[i:]</span></span><br><span class="line"><span class="string">        inNum += len(s_right)*(len(s_left)-i)+len(s_left)-1-i</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    else:</span></span><br><span class="line"><span class="string">        result += s_right[j:]</span></span><br><span class="line"><span class="string">        inNum += len(s_left)*(len(s_right)-j)+len(s_right)-1-j</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">baoli</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> inNum</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)<span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,len(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] &gt; s[j]:</span><br><span class="line">                inNum += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort1</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> inNum</span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    mid = n//<span class="number">2</span></span><br><span class="line">    s_left = merge_sort1(s[:mid]) </span><br><span class="line">    s_right = merge_sort1(s[mid:])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">while</span> s_left <span class="keyword">and</span> s_right:</span><br><span class="line">        <span class="keyword">if</span> s_left[<span class="number">0</span>].high &gt; s_right[<span class="number">0</span>].high:<span class="comment">#左侧部分都是排好序的,如果左侧出现一个数</span></span><br><span class="line">            s_right[<span class="number">0</span>].hate += len(s_left)   <span class="comment">#比右侧的那个数大，则左侧这个数以后都比右侧这个数大</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s_left)):     </span><br><span class="line">                s_left[i].hate += <span class="number">1</span>          <span class="comment">#此时左边这些数与右边这一个数都有对应关系</span></span><br><span class="line">            result.append(s_right.pop(<span class="number">0</span>))    <span class="comment">#因此和这个数存在逆序关系</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(s_left.pop(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result+s_left+s_right            <span class="comment">#剩下的数字对不上说明原来就排好有序的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort2</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> inNum</span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    mid = n//<span class="number">2</span></span><br><span class="line">    s_left = merge_sort2(s[:mid]) </span><br><span class="line">    s_right = merge_sort2(s[mid:])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">while</span> s_left <span class="keyword">and</span> s_right:</span><br><span class="line">        <span class="keyword">if</span> s_left[<span class="number">0</span>].high &lt;= s_right[<span class="number">0</span>].high:</span><br><span class="line">            s_right[<span class="number">0</span>].hate += len(s_left)</span><br><span class="line">            result.append(s_right.pop(<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(s_left.pop(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result+s_left+s_right</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.high = <span class="number">0</span></span><br><span class="line">        self.hate = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">aHate = <span class="number">0</span></span><br><span class="line">num = int(input())</span><br><span class="line">s = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> input().split():</span><br><span class="line">    temp = Struct()</span><br><span class="line">    temp.high = int(i)</span><br><span class="line">    s.append(temp)</span><br><span class="line">merge_sort1(s)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">    aHate += (<span class="number">1</span>+s[i].hate)*s[i].hate // <span class="number">2</span></span><br><span class="line">print(aHate)</span><br></pre></td></tr></table></figure>



<h3 id="树状数组版"><a href="#树状数组版" class="headerlink" title="树状数组版"></a>树状数组版</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#树状数组求逆序对</span></span><br><span class="line"><span class="comment">#小朋友排队</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lowbit</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x &amp; -x</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trAdd</span><span class="params">(x,v)</span>:</span></span><br><span class="line">    i = x</span><br><span class="line">    <span class="keyword">while</span> i &lt;= N:</span><br><span class="line">        tr[i] += v</span><br><span class="line">        i += lowbit(i)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(x)</span>:</span></span><br><span class="line">    i = x</span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">        res += tr[i]</span><br><span class="line">        i -= lowbit(i)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">N = <span class="number">100010</span></span><br><span class="line">tr = [<span class="number">0</span>]*(N+<span class="number">1</span>)</span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">n = int(input())</span><br><span class="line">nums = [<span class="number">0</span>]*(n + <span class="number">1</span>)</span><br><span class="line">data = [<span class="number">0</span>] + [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    nums[i] += query(N) - query(data[i])</span><br><span class="line">    trAdd(data[i],<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">tr = [<span class="number">0</span>]*(N+<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n,<span class="number">0</span>,<span class="number">-1</span>):</span><br><span class="line">    nums[i] += query(data[i] - <span class="number">1</span>)</span><br><span class="line">    trAdd(data[i],<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    ans += (<span class="number">1</span> + nums[i])*nums[i] // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">print(ans)</span><br></pre></td></tr></table></figure>



<h2 id="扩展欧几里得算法"><a href="#扩展欧几里得算法" class="headerlink" title="扩展欧几里得算法"></a>扩展欧几里得算法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ax+by = gcd(a,b)    </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">exGcd</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    a: 模的取值</span></span><br><span class="line"><span class="string">    b: 想求逆的值</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>, <span class="number">0</span>, a</span><br><span class="line">    x, y, gcd = exGcd(b, a % b)</span><br><span class="line">    <span class="keyword">return</span> y, x-a//b*y, gcd</span><br></pre></td></tr></table></figure>



<h2 id="排序算法"><a href="#排序算法" class="headerlink" title="排序算法"></a>排序算法</h2><h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#归并排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    n =len(s)</span><br><span class="line">    <span class="keyword">if</span> n&lt;=<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    mid = n//<span class="number">2</span></span><br><span class="line">    s_left = merge_sort(s[:mid])</span><br><span class="line">    s_right = merge_sort(s[mid:])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    i,j = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i&lt;len(s_left) <span class="keyword">and</span> j&lt;len(s_right):</span><br><span class="line">        <span class="keyword">if</span> s_left[i]&lt;s_right[j]:</span><br><span class="line">            result.append(s_left[i])</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(s_right[j])</span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">    result+=s_left[i:]    <span class="comment">#python不怕此处越界报错</span></span><br><span class="line">    result+=s_right[j:]   <span class="comment">#python，越界为空,不怕此处越界报错</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">34</span>,<span class="number">25</span>,<span class="number">44</span>,<span class="number">3254</span>,<span class="number">34</span>,<span class="number">56</span>,<span class="number">46</span>,<span class="number">54</span>,<span class="number">7</span>,<span class="number">56</span>,<span class="number">67</span>,<span class="number">342</span>,<span class="number">56</span>,<span class="number">42</span>,<span class="number">3</span>]</span><br><span class="line">    print(s)</span><br><span class="line">    s_n = merge_sort(s)</span><br><span class="line">    print(s_n)</span><br></pre></td></tr></table></figure>



<h3 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#计数排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counting_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    a = [<span class="number">0</span>]*<span class="number">10000</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    result = [<span class="number">0</span>]*n</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">        a[i]+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10000</span>):</span><br><span class="line">        a[i] += a[i<span class="number">-1</span>]                      <span class="comment">#此操作使得a值为对应s 结果顺序值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):                      <span class="comment">#键值对套键值对</span></span><br><span class="line">        result[a[s[i]]<span class="number">-1</span>] = s[i]</span><br><span class="line">        a[s[i]]-=<span class="number">1</span>                          <span class="comment">#由于重复数的结果位经上一部变成最高位</span></span><br><span class="line">                                            <span class="comment">#此步骤使重复相后置一位</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">34</span>,<span class="number">32</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">34</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">43</span>,<span class="number">56</span>,<span class="number">45</span>]</span><br><span class="line">    s_n = counting_sort(s)</span><br><span class="line">    print(s_n)</span><br></pre></td></tr></table></figure>



<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#快速排序双全等定位</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(s,first,last)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> first &gt;= last:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    i = first</span><br><span class="line">    j = last</span><br><span class="line">    base = s[first]</span><br><span class="line">    <span class="comment">#两全等状态时,快速排序起始项一定要从非基数base侧开始,不然基数无法调换</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; j:            <span class="comment">#快速排序起始项一定要从非基数base侧开始,不然基数无法调换</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; j <span class="keyword">and</span> s[j] &gt;= base: <span class="comment">#注意一定要加'='号，不然会进左右呼唤的死循环</span></span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        s[i],s[j] = s[j],s[i]  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> i &lt; j <span class="keyword">and</span> s[i] &lt;= base: <span class="comment">#注意一定要加'='号，不然会进左右呼唤的死循环</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        s[i],s[j] = s[j],s[i]</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    quick_sort(s,first,i<span class="number">-1</span>)</span><br><span class="line">    quick_sort(s,j+<span class="number">1</span>,last)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">12</span>,<span class="number">312</span>,<span class="number">432</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">546</span>,<span class="number">76</span>,<span class="number">23</span>,<span class="number">567</span>,<span class="number">67</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">64</span>]</span><br><span class="line">    print(s)</span><br><span class="line">    quick_sort(s,<span class="number">0</span>,len(s)<span class="number">-1</span>)</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure>



<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#冒泡排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maopao</span><span class="params">(s)</span>:</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,n<span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,n-i<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> s[j]&gt;s[j+<span class="number">1</span>]:</span><br><span class="line">                s[j],s[j+<span class="number">1</span>] = s[j+<span class="number">1</span>],s[j]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">12</span>,<span class="number">234</span>,<span class="number">2133</span>,<span class="number">34</span>,<span class="number">5456</span>,<span class="number">6</span>]</span><br><span class="line">    maopao(s)</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure>



<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#希尔排序</span></span><br><span class="line"><span class="comment">#有违次次间隔排列，且反正排序版本</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    gap = n//<span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> gap&gt;=<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(gap,n):       <span class="comment">#此处为每次取后1位往前插，并非取后间隔位往前插，但是每次间隔为的数都能被取到</span></span><br><span class="line">            j = i</span><br><span class="line">            <span class="keyword">while</span> j&gt;<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> s[j]&lt;s[j-gap]:</span><br><span class="line">                    s[j],s[j-gap] = s[j-gap],s[j]</span><br><span class="line">                    j -= gap</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        gap//=<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">12</span>,<span class="number">332</span>,<span class="number">45</span>,<span class="number">34</span>,<span class="number">123</span>,<span class="number">13</span>,<span class="number">487</span>,<span class="number">34</span>,<span class="number">546</span>,<span class="number">234</span>,<span class="number">34</span>,<span class="number">54</span>,<span class="number">36</span>]</span><br><span class="line">    print(s)</span><br><span class="line">    shell_sort(s)</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure>



<h3 id="选择算法"><a href="#选择算法" class="headerlink" title="选择算法"></a>选择算法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#选择排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">choose_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,n<span class="number">-1</span>):</span><br><span class="line">        min_index = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,n):</span><br><span class="line">            <span class="keyword">if</span> s[j]&lt;s[min_index]:</span><br><span class="line">                min_index = j</span><br><span class="line">        s[i],s[min_index] = s[min_index],s[i]</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">12</span>,<span class="number">233</span>,<span class="number">4</span>,<span class="number">45</span>,<span class="number">546</span>,<span class="number">67</span>,<span class="number">45</span>,<span class="number">24</span>]</span><br><span class="line">    print(s)</span><br><span class="line">    choose_sort(s)</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure>



<h3 id="直接插入排序"><a href="#直接插入排序" class="headerlink" title="直接插入排序"></a>直接插入排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#直接插入排序,希尔排序的简单版本，对一定有序的数据较快</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span><span class="params">(s)</span>:</span></span><br><span class="line">    n = len(s)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n):</span><br><span class="line">        j = i</span><br><span class="line">        <span class="keyword">while</span> j&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> s[j]&lt;s[j<span class="number">-1</span>]:</span><br><span class="line">                s[j],s[j<span class="number">-1</span>] = s[j<span class="number">-1</span>],s[j]</span><br><span class="line">                j-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    s = [<span class="number">1</span>,<span class="number">23</span>,<span class="number">432</span>,<span class="number">13</span>,<span class="number">45</span>,<span class="number">768</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">89</span>,<span class="number">546</span>,<span class="number">7</span>,<span class="number">34</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">3</span>]</span><br><span class="line">    print(s)</span><br><span class="line">    insert_sort(s)</span><br><span class="line">    print(s)</span><br></pre></td></tr></table></figure>



<h2 id="树状数组"><a href="#树状数组" class="headerlink" title="树状数组"></a>树状数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#树状数组</span></span><br><span class="line"><span class="comment">#动态求连续区间和(树状数组)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lowbit</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x &amp; -x</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trAdd</span><span class="params">(x,v)</span>:</span></span><br><span class="line">    i = x</span><br><span class="line">    <span class="keyword">while</span> i &lt;= n:</span><br><span class="line">        tr[i] += v</span><br><span class="line">        i += lowbit(i)</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(x)</span>:</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    i = x</span><br><span class="line">    <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">        res += tr[i]</span><br><span class="line">        i -= lowbit(i)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">data = [<span class="number">0</span>] + [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line">tr = [<span class="number">0</span>]*(n + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span>  range(<span class="number">1</span>,n + <span class="number">1</span>):</span><br><span class="line">    trAdd(i,data[i])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    k,a,b = map(int,input().split())</span><br><span class="line">    <span class="keyword">if</span> k == <span class="number">1</span>:</span><br><span class="line">        trAdd(a,b)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(query(b) - query(a - <span class="number">1</span>))</span><br></pre></td></tr></table></figure>



<h2 id="凸包"><a href="#凸包" class="headerlink" title="凸包"></a>凸包</h2><h3 id="凸包的周长"><a href="#凸包的周长" class="headerlink" title="凸包的周长"></a>凸包的周长</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#凸包周长</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x = <span class="number">0</span></span><br><span class="line">        self.y = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slope</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a.x == b.x:</span><br><span class="line">        <span class="keyword">return</span> float(<span class="string">'inf'</span>)</span><br><span class="line">    <span class="keyword">return</span> (a.y - b.y) / (a.x - b.x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dotLen</span><span class="params">(s)</span>:</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(s)):</span><br><span class="line">        ans += pow(pow((s[i].y - s[i<span class="number">-1</span>].y),<span class="number">2</span>) + pow((s[i].x - s[i<span class="number">-1</span>].x),<span class="number">2</span>),<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#下半部分</span></span><br><span class="line">    baos1 = []</span><br><span class="line">    baos1.append(datas[<span class="number">0</span>])</span><br><span class="line">    baos1.append(datas[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">        <span class="keyword">while</span> len(baos1) &gt; <span class="number">1</span> <span class="keyword">and</span> slope(datas[i],baos1[<span class="number">-2</span>]) &lt;= slope(baos1[<span class="number">-1</span>],baos1[<span class="number">-2</span>]):</span><br><span class="line">            <span class="keyword">del</span> baos1[<span class="number">-1</span>]</span><br><span class="line">        baos1.append(datas[i])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#上半部分</span></span><br><span class="line">    baos2 = []</span><br><span class="line">    baos2.append(datas[<span class="number">0</span>])</span><br><span class="line">    baos2.append(datas[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">        <span class="keyword">while</span> len(baos2) &gt; <span class="number">1</span> <span class="keyword">and</span> slope(datas[i],baos2[<span class="number">-2</span>]) &gt;= slope(baos2[<span class="number">-1</span>],baos2[<span class="number">-2</span>]):</span><br><span class="line">            <span class="keyword">del</span> baos2[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">        baos2.append(datas[i])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">del</span> baos2[<span class="number">-1</span>] <span class="comment">#去除上半部分凸包的尾部</span></span><br><span class="line"></span><br><span class="line">    baos2.reverse()</span><br><span class="line">    res = baos1 + baos2</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n = int(input())</span><br><span class="line">datas = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">    temp = Struct()</span><br><span class="line">    temp.x,temp.y = map(float,input().split())</span><br><span class="line">    datas.append(temp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cmp</span><span class="params">(x)</span>:</span> <span class="comment">#先按x后按y进行比较</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">100000000</span>*x.x + x.y</span><br><span class="line">datas = sorted(datas,key = cmp)</span><br><span class="line"></span><br><span class="line">res = solve()</span><br><span class="line"><span class="comment">#print(res)</span></span><br><span class="line">print(<span class="string">'%.2f'</span>%dotLen(res))</span><br></pre></td></tr></table></figure>



<h3 id="旋转卡尺"><a href="#旋转卡尺" class="headerlink" title="旋转卡尺"></a>旋转卡尺</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#凸包</span></span><br><span class="line"><span class="comment">#旋转卡壳</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x = <span class="number">0</span></span><br><span class="line">        self.y = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slope</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a.x == b.x:  <span class="comment">#这里a与b的连线垂直坐标轴，斜率为无穷</span></span><br><span class="line">        <span class="keyword">return</span> float(<span class="string">'inf'</span>)</span><br><span class="line">    <span class="keyword">return</span> (a.y - b.y)/(a.x - b.x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(datas)</span>:</span> <span class="comment">#按x为第一，y为第二排序</span></span><br><span class="line">    n = len(datas)</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> datas</span><br><span class="line">    mid = n // <span class="number">2</span></span><br><span class="line">    left = merge_sort(datas[:mid])</span><br><span class="line">    right = merge_sort(datas[mid:])</span><br><span class="line">    result = []</span><br><span class="line">    i,j = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; len(left) <span class="keyword">and</span> j &lt; len(right):</span><br><span class="line">        <span class="keyword">if</span> left[i].x &lt; right[j].x:</span><br><span class="line">            result.append(left[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> left[i].x &gt; right[j].x:</span><br><span class="line">            result.append(right[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> left[i].y &lt; right[j].y:</span><br><span class="line">            result.append(left[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(right[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    result += left[i:] + right[j:]</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Cross</span><span class="params">(u,a,b)</span>:</span> <span class="comment">#叉积 </span></span><br><span class="line">    <span class="keyword">return</span> (a.x - u.x)*(b.y - u.y) - (a.y-u.y)*(b.x - u.x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#下半部分</span></span><br><span class="line">    baos1 = []</span><br><span class="line">    baos1.append(datas[<span class="number">0</span>])</span><br><span class="line">    baos1.append(datas[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">        <span class="keyword">while</span> len(baos1)&gt;<span class="number">1</span> <span class="keyword">and</span> slope(datas[i],baos1[<span class="number">-2</span>]) &lt;= slope(baos1[<span class="number">-1</span>],baos1[<span class="number">-2</span>]):</span><br><span class="line">            <span class="keyword">del</span> baos1[<span class="number">-1</span>]</span><br><span class="line">        baos1.append(datas[i])</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    for i in range(len(baos1)):</span></span><br><span class="line"><span class="string">        print(baos1[i].x,baos1[i].y)</span></span><br><span class="line"><span class="string">    print('-------------')</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment">#上半部分</span></span><br><span class="line">    baos2 = []</span><br><span class="line">    baos2.append(datas[<span class="number">0</span>])</span><br><span class="line">    baos2.append(datas[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">        <span class="keyword">while</span> len(baos2)&gt;<span class="number">1</span> <span class="keyword">and</span> slope(datas[i],baos2[<span class="number">-2</span>]) &gt;= slope(baos2[<span class="number">-1</span>],baos2[<span class="number">-2</span>]):</span><br><span class="line">            <span class="keyword">del</span> baos2[<span class="number">-1</span>]</span><br><span class="line">        baos2.append(datas[i])</span><br><span class="line">    <span class="string">''' </span></span><br><span class="line"><span class="string">    for i in range(len(baos2)):</span></span><br><span class="line"><span class="string">        print(baos2[i].x,baos2[i].y)</span></span><br><span class="line"><span class="string">    print('-------------')</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">del</span> baos2[<span class="number">-1</span>]<span class="comment">#去掉上半部分凸包的尾部(因为尾部已经在下半部分储存,不去头是为了使得能够闭环)</span></span><br><span class="line">    baos2.reverse()  <span class="comment">#为了能够有方向的形成环</span></span><br><span class="line">    res = baos1 + baos2</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    for var in res:</span></span><br><span class="line"><span class="string">        print(var.x,var.y)</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dotLen</span><span class="params">(s)</span>:</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(s)):</span><br><span class="line">        ans += ((s[i].y - s[i<span class="number">-1</span>].y)**<span class="number">2</span> + (s[i].x - s[i<span class="number">-1</span>].x)**<span class="number">2</span>)**<span class="number">0.5</span></span><br><span class="line">        <span class="comment">#print(((s[i].y - s[i-1].y)**2 + (s[i].x - s[i-1].x)**2)**0.5)</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dotlen</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> ((a.y - b.y)**<span class="number">2</span> + (a.x - b.x)**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kq</span><span class="params">(s)</span>:</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    ps = <span class="number">2</span>  <span class="comment">#设置对踵点</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)<span class="number">-1</span>):       <span class="comment">#通过叉积求面积以此寻找对踵点</span></span><br><span class="line">        <span class="keyword">while</span> Cross(s[i],s[i+<span class="number">1</span>],s[ps]) &lt; Cross(s[i],s[i+<span class="number">1</span>],s[ps+<span class="number">1</span>]):</span><br><span class="line">            ps = (ps+<span class="number">1</span>)%(len(s)<span class="number">-1</span>)  <span class="comment">#绕一圈可归零</span></span><br><span class="line">            <span class="comment">#print(i+1,i+2,ps,'=',len(s))</span></span><br><span class="line">        ans = max(ans,max(dotlen(s[i],s[ps]),dotlen(s[i+<span class="number">1</span>],s[ps])))</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    n = int(input())</span><br><span class="line">    datas = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        temp = Struct()</span><br><span class="line">        temp.x,temp.y = [eval(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">        datas.append(temp)</span><br><span class="line"></span><br><span class="line">    datas = merge_sort(datas)</span><br><span class="line">    </span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    for i in range(n):</span></span><br><span class="line"><span class="string">        print(datas[i].x,datas[i].y)</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    </span><br><span class="line">    res = solve()</span><br><span class="line">    <span class="comment">#print('allLen:',dotLen(res))</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    for i in range(len(res)):</span></span><br><span class="line"><span class="string">        print(res[i].x,res[i].y)</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    print(kq(res))</span><br></pre></td></tr></table></figure>



<h2 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h2><h3 id="线段树求区间和"><a href="#线段树求区间和" class="headerlink" title="线段树求区间和"></a>线段树求区间和</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#线段树求区间和</span></span><br><span class="line">带通求连续区间和</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.left = <span class="number">0</span></span><br><span class="line">        self.right = <span class="number">0</span></span><br><span class="line">        self.sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pushup</span><span class="params">(curNode)</span>:</span></span><br><span class="line">    tr[curNode].sum = tr[curNode &lt;&lt; <span class="number">1</span>].sum + tr[curNode &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].sum</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build</span><span class="params">(curNode,L,R)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> L == R:</span><br><span class="line">        tr[curNode].left = L</span><br><span class="line">        tr[curNode].right = R</span><br><span class="line">        tr[curNode].sum = data[R]</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    tr[curNode].left = L</span><br><span class="line">    tr[curNode].right = R</span><br><span class="line"></span><br><span class="line">    mid = L + R &gt;&gt; <span class="number">1</span></span><br><span class="line">    build(curNode &lt;&lt; <span class="number">1</span>,L,mid)</span><br><span class="line">    build(curNode &lt;&lt; <span class="number">1</span> | <span class="number">1</span>,mid + <span class="number">1</span>,R)</span><br><span class="line">    pushup(curNode)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(curNode,L,R)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tr[curNode].left &gt;= L <span class="keyword">and</span> tr[curNode].right &lt;= R:</span><br><span class="line">        <span class="keyword">return</span> tr[curNode].sum</span><br><span class="line">    mid = tr[curNode].left + tr[curNode].right &gt;&gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> L &lt;= mid:</span><br><span class="line">        res += query(curNode &lt;&lt; <span class="number">1</span>,L,R)</span><br><span class="line">    <span class="keyword">if</span> R &gt; mid:</span><br><span class="line">        res += query(curNode &lt;&lt; <span class="number">1</span> | <span class="number">1</span>,L,R)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modify</span><span class="params">(curNode,x,v)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> tr[curNode].left == tr[curNode].right:</span><br><span class="line">        tr[curNode].sum += v</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    mid = tr[curNode].left + tr[curNode].right &gt;&gt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> x &lt;= mid:</span><br><span class="line">        modify(curNode &lt;&lt; <span class="number">1</span>,x,v)</span><br><span class="line">    <span class="keyword">if</span> x &gt; mid:</span><br><span class="line">        modify(curNode &lt;&lt; <span class="number">1</span> | <span class="number">1</span>,x,v)</span><br><span class="line"></span><br><span class="line">    pushup(curNode)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">data = [<span class="number">0</span>] + [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tr = [Struct() <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span> * n + <span class="number">1</span>)]</span><br><span class="line">build(<span class="number">1</span>,<span class="number">1</span>,n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    k,a,b = map(int,input().split())</span><br><span class="line">    <span class="keyword">if</span> k == <span class="number">1</span>:</span><br><span class="line">        modify(<span class="number">1</span>,a,b)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(query(<span class="number">1</span>,a,b))</span><br></pre></td></tr></table></figure>



<h2 id="DP子序列"><a href="#DP子序列" class="headerlink" title="DP子序列"></a>DP子序列</h2><h3 id="最长公共子序列-朴素"><a href="#最长公共子序列-朴素" class="headerlink" title="最长公共子序列(朴素)"></a>最长公共子序列(朴素)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最长公共子序列</span></span><br><span class="line"><span class="comment">#朴素</span></span><br><span class="line">n = int(input())</span><br><span class="line">s1 = [<span class="number">0</span>]+[int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">s2 = [<span class="number">0</span>]+[int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line">f = [[<span class="number">0</span>]*(n+<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> s1[i] == s2[j]:</span><br><span class="line">            f[i][j] = max(f[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>,f[i][j])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            f[i][j] = max(f[i<span class="number">-1</span>][j],f[i][j<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">print(f[n][n])</span><br></pre></td></tr></table></figure>

<h3 id="最长公共子序列-nlogn"><a href="#最长公共子序列-nlogn" class="headerlink" title="最长公共子序列(nlogn)"></a>最长公共子序列(nlogn)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最长公共子序列</span></span><br><span class="line"><span class="comment">#对于互异的两组排列</span></span><br><span class="line">n = int(input())</span><br><span class="line">s1 = [<span class="number">0</span>]+[int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">s2 = [<span class="number">0</span>]+[int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">pos = &#123;&#125; <span class="comment">#s2在s1中的位置</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    pos[s1[i]] = i</span><br><span class="line"></span><br><span class="line">f = [float(<span class="string">'inf'</span>)]*(n+<span class="number">1</span>)</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">Len = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = Len</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> pos[s2[i]] &gt; f[Len]:</span><br><span class="line">        Len += <span class="number">1</span></span><br><span class="line">        f[Len] = pos[s2[i]]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            mid = left + right &gt;&gt; <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> f[mid] &gt; pos[s2[i]]:</span><br><span class="line">                right = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">        f[left] = min(pos[s2[i]],f[left])</span><br><span class="line"></span><br><span class="line">print(Len)</span><br></pre></td></tr></table></figure>



<h3 id="最大子序和-单调队列"><a href="#最大子序和-单调队列" class="headerlink" title="最大子序和(单调队列)"></a>最大子序和(单调队列)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最大字串和</span></span><br><span class="line"><span class="comment">#单调队列</span></span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">arr = [<span class="number">0</span>] + [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">preSum = [<span class="number">0</span>]*(n+<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    preSum[i] = preSum[i<span class="number">-1</span>] + arr[i]</span><br><span class="line">queue = [<span class="number">0</span>]*(n+<span class="number">1</span>)</span><br><span class="line">head = <span class="number">0</span></span><br><span class="line">reap = <span class="number">0</span></span><br><span class="line">res = -float(<span class="string">'inf'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> i - queue[head] &gt; m: <span class="comment">#超过范围（m+1(前缀和要多一位)）的队头弹出(永远用不到的)</span></span><br><span class="line">        head += <span class="number">1</span></span><br><span class="line">    res = max(res,preSum[i] - preSum[queue[head]])</span><br><span class="line">    <span class="comment">#队非空</span></span><br><span class="line">    <span class="keyword">while</span> head &lt;= reap <span class="keyword">and</span> preSum[queue[reap]] &gt;= preSum[i]: <span class="comment">#弹出无用元素，形成单调队列</span></span><br><span class="line">        reap -= <span class="number">1</span></span><br><span class="line">    reap += <span class="number">1</span></span><br><span class="line">    queue[reap] = i <span class="comment">#添加</span></span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>



<h3 id="最大子序和-DP"><a href="#最大子序和-DP" class="headerlink" title="最大子序和(DP)"></a>最大子序和(DP)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最大子序列</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mlenSequence</span><span class="params">(s)</span>:</span></span><br><span class="line">    dp = [<span class="number">0</span>]*len(s)</span><br><span class="line">    dp[<span class="number">0</span>] = s[<span class="number">0</span>]</span><br><span class="line">    mlen = dp[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(s)):</span><br><span class="line">        <span class="keyword">if</span> dp[i<span class="number">-1</span>] &lt; <span class="number">0</span>:</span><br><span class="line">            dp[i] = s[i]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dp[i] = dp[i<span class="number">-1</span>] + s[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> mlen &lt; dp[i]:</span><br><span class="line">            mlen = dp[i]</span><br><span class="line">    <span class="keyword">return</span> mlen</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">mlen = mlenSequence(s)</span><br><span class="line">print(mlen)</span><br></pre></td></tr></table></figure>



<h2 id="最长上升子序列"><a href="#最长上升子序列" class="headerlink" title="最长上升子序列"></a>最长上升子序列</h2><h3 id="最长上升子序列-1"><a href="#最长上升子序列-1" class="headerlink" title="最长上升子序列"></a>最长上升子序列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最长升降子序列</span></span><br><span class="line">t = int(input())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(t):</span><br><span class="line">    n = int(input())</span><br><span class="line">    data = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">        </span><br><span class="line">    res = <span class="number">1</span></span><br><span class="line">     </span><br><span class="line">    f = [<span class="number">0</span>]*(n)  </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        f[i] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">            <span class="keyword">if</span> data[i] &gt; data[j]:</span><br><span class="line">                f[i] = max(f[i],f[j] + <span class="number">1</span>)</span><br><span class="line">                    </span><br><span class="line">        res = max(res,f[i])</span><br><span class="line">    </span><br><span class="line">    f = [<span class="number">0</span>]*(n)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        f[i] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">            <span class="keyword">if</span> data[i] &lt; data[j]:</span><br><span class="line">                f[i] = max(f[i],f[j] + <span class="number">1</span>)</span><br><span class="line">                    </span><br><span class="line">        res = max(res,f[i])</span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">    print(res)</span><br></pre></td></tr></table></figure>



<h3 id="升降子序列铺满问题-贪心与dfs"><a href="#升降子序列铺满问题-贪心与dfs" class="headerlink" title="升降子序列铺满问题(贪心与dfs)"></a>升降子序列铺满问题(贪心与dfs)</h3><blockquote>
<p>为了对抗附近恶意国家的威胁，R国更新了他们的导弹防御系统。</p>
<p>一套防御系统的导弹拦截高度要么一直 <strong>严格单调</strong> 上升要么一直 <strong>严格单调</strong> 下降。</p>
<p>例如，一套系统先后拦截了高度为3和高度为4的两发导弹，那么接下来该系统就只能拦截高度大于4的导弹。</p>
<p>给定即将袭来的一系列导弹的高度，请你求出至少需要多少套防御系统，就可以将它们全部击落。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(index,numUp)</span>:</span> <span class="comment">#当前位置当前上升子序列个数与当前下降子序列个数</span></span><br><span class="line">    <span class="keyword">global</span> res</span><br><span class="line">    <span class="keyword">if</span> numUp &gt; res:</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> index == n:</span><br><span class="line">        res = numUp</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">#上升子序列中 (用于处理(严格)下降子序列铺满情况(不严格情况不加等号))</span></span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> k &lt; numUp <span class="keyword">and</span> rearUp[k] &lt; arr[index]:</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">    temp = rearUp[k]</span><br><span class="line">    rearUp[k] = arr[index]</span><br><span class="line">    <span class="keyword">if</span> k &lt; numUp:</span><br><span class="line">        dfs(index + <span class="number">1</span>, numUp)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        dfs(index + <span class="number">1</span>, numUp + <span class="number">1</span>)</span><br><span class="line">    rearUp[k] = temp</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">()</span>:</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    f = [<span class="number">0</span>]*(n)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">        f[i] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n - <span class="number">1</span>,i,<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> arr[j] &lt;= arr[i]:</span><br><span class="line">                f[i] = max(f[j]+<span class="number">1</span>,f[i])</span><br><span class="line">        res = max(res,f[i])</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">arr = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line">n = len(arr)</span><br><span class="line">rearUp = [<span class="number">0</span>]*(n)</span><br><span class="line"></span><br><span class="line">print(solve())</span><br><span class="line"></span><br><span class="line">res = float(<span class="string">'inf'</span>)</span><br><span class="line">dfs(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>



<h3 id="纯降子序列铺满问题-最长上升子序"><a href="#纯降子序列铺满问题-最长上升子序" class="headerlink" title="纯降子序列铺满问题(最长上升子序)"></a>纯降子序列铺满问题(最长上升子序)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">data = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> input().split()]</span><br><span class="line"></span><br><span class="line">n = len(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 求最长下降子序列</span></span><br><span class="line">res = <span class="number">0</span></span><br><span class="line">f = [<span class="number">0</span>]*(n)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">    f[i] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(n - <span class="number">1</span>,i ,<span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> data[j] &lt;= data[i]:</span><br><span class="line">            f[i] = max(f[i],f[j] + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    res = max(res,f[i])</span><br><span class="line"></span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 求用多少各最长下降子序列铺满</span></span><br><span class="line">res = <span class="number">0</span></span><br><span class="line">f = [<span class="number">0</span>]*(n)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">    f[i] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">        <span class="keyword">if</span> data[j] &lt; data[i]:</span><br><span class="line">            f[i] = max(f[i],f[j] + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    res = max(res,f[i])</span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>



<h2 id="最小生成树-Kruskal"><a href="#最小生成树-Kruskal" class="headerlink" title="最小生成树(Kruskal)"></a>最小生成树(Kruskal)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最小生成树</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.f = <span class="number">0</span></span><br><span class="line">        self.t = <span class="number">0</span></span><br><span class="line">        self.w = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UFS</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,n)</span>:</span></span><br><span class="line">        self.father = &#123;&#125;</span><br><span class="line">        self.size = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">            self.father[i] = i</span><br><span class="line">            self.size[i] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRoot</span><span class="params">(self,node)</span>:</span></span><br><span class="line">        father = self.father[node]</span><br><span class="line">        <span class="keyword">if</span> father != node:</span><br><span class="line">            father = self.findRoot(father)</span><br><span class="line">        self.father[node] = father</span><br><span class="line">        <span class="keyword">return</span> father</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self,node_a,node_b)</span>:</span></span><br><span class="line">        root_a = self.findRoot(node_a)</span><br><span class="line">        root_b = self.findRoot(node_b)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> root_a != root_b:</span><br><span class="line">            <span class="keyword">if</span> self.size[root_a] &gt; self.size[root_b]:</span><br><span class="line">                self.father[root_b] = root_a</span><br><span class="line">                self.size[root_a] += seelf.size[root_b]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self.father[root_a] = root_b</span><br><span class="line">                self.size[root_b] = self.size[root_a]</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n,m = map(int,input().split())</span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    a,b,w = map(int,input().split())</span><br><span class="line">    temp = Struct()</span><br><span class="line">    temp.f = a</span><br><span class="line">    temp.t = b</span><br><span class="line">    temp.w = w</span><br><span class="line">    data.append(temp)</span><br><span class="line"></span><br><span class="line">data = sorted(data,key = <span class="keyword">lambda</span> x : x.w)</span><br><span class="line"></span><br><span class="line">ufs = UFS(n)</span><br><span class="line">res = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">    <span class="keyword">if</span> ufs.union(data[i].f,data[i].t):</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">        res += data[i].w</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    print(res)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'orz'</span>)</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/07/22/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/" rel="prev" title="聚类算法">
      <i class="fa fa-chevron-left"></i> 聚类算法
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#算法模板-肌肉记忆熟练度"><span class="nav-number">1.</span> <span class="nav-text">算法模板(肌肉记忆熟练度)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#排列组合枚举"><span class="nav-number">1.1.</span> <span class="nav-text">排列组合枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#next-permutation"><span class="nav-number">1.1.1.</span> <span class="nav-text">next_permutation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pre-permutation"><span class="nav-number">1.1.2.</span> <span class="nav-text">pre_permutation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归实现排列型枚举"><span class="nav-number">1.1.3.</span> <span class="nav-text">递归实现排列型枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归实现指数型枚举"><span class="nav-number">1.1.4.</span> <span class="nav-text">递归实现指数型枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归实现组合型枚举"><span class="nav-number">1.1.5.</span> <span class="nav-text">递归实现组合型枚举</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RMQ算法-ST表"><span class="nav-number">1.2.</span> <span class="nav-text">RMQ算法(ST表)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#并查集"><span class="nav-number">1.3.</span> <span class="nav-text">并查集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单源最短路径"><span class="nav-number">1.4.</span> <span class="nav-text">单源最短路径</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SPFA算法"><span class="nav-number">1.4.1.</span> <span class="nav-text">SPFA算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dijkstra算法-优先队列实现"><span class="nav-number">1.4.2.</span> <span class="nav-text">dijkstra算法(优先队列实现)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二分算法"><span class="nav-number">1.5.</span> <span class="nav-text">二分算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#二分法求最大满足"><span class="nav-number">1.5.1.</span> <span class="nav-text">二分法求最大满足</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二分法求最小满足"><span class="nav-number">1.5.2.</span> <span class="nav-text">二分法求最小满足</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#矩阵快速幂-斐波那契前n项和为例"><span class="nav-number">1.6.</span> <span class="nav-text">矩阵快速幂(斐波那契前n项和为例)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#状态压缩DP"><span class="nav-number">1.7.</span> <span class="nav-text">状态压缩DP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#旅行商问题"><span class="nav-number">1.7.1.</span> <span class="nav-text">旅行商问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逆序对"><span class="nav-number">1.8.</span> <span class="nav-text">逆序对</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#归并排序版"><span class="nav-number">1.8.1.</span> <span class="nav-text">归并排序版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#树状数组版"><span class="nav-number">1.8.2.</span> <span class="nav-text">树状数组版</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#扩展欧几里得算法"><span class="nav-number">1.9.</span> <span class="nav-text">扩展欧几里得算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#排序算法"><span class="nav-number">1.10.</span> <span class="nav-text">排序算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#归并排序"><span class="nav-number">1.10.1.</span> <span class="nav-text">归并排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#计数排序"><span class="nav-number">1.10.2.</span> <span class="nav-text">计数排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快速排序"><span class="nav-number">1.10.3.</span> <span class="nav-text">快速排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#冒泡排序"><span class="nav-number">1.10.4.</span> <span class="nav-text">冒泡排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#希尔排序"><span class="nav-number">1.10.5.</span> <span class="nav-text">希尔排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择算法"><span class="nav-number">1.10.6.</span> <span class="nav-text">选择算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直接插入排序"><span class="nav-number">1.10.7.</span> <span class="nav-text">直接插入排序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#树状数组"><span class="nav-number">1.11.</span> <span class="nav-text">树状数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#凸包"><span class="nav-number">1.12.</span> <span class="nav-text">凸包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#凸包的周长"><span class="nav-number">1.12.1.</span> <span class="nav-text">凸包的周长</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#旋转卡尺"><span class="nav-number">1.12.2.</span> <span class="nav-text">旋转卡尺</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线段树"><span class="nav-number">1.13.</span> <span class="nav-text">线段树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#线段树求区间和"><span class="nav-number">1.13.1.</span> <span class="nav-text">线段树求区间和</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DP子序列"><span class="nav-number">1.14.</span> <span class="nav-text">DP子序列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最长公共子序列-朴素"><span class="nav-number">1.14.1.</span> <span class="nav-text">最长公共子序列(朴素)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最长公共子序列-nlogn"><span class="nav-number">1.14.2.</span> <span class="nav-text">最长公共子序列(nlogn)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最大子序和-单调队列"><span class="nav-number">1.14.3.</span> <span class="nav-text">最大子序和(单调队列)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最大子序和-DP"><span class="nav-number">1.14.4.</span> <span class="nav-text">最大子序和(DP)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最长上升子序列"><span class="nav-number">1.15.</span> <span class="nav-text">最长上升子序列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最长上升子序列-1"><span class="nav-number">1.15.1.</span> <span class="nav-text">最长上升子序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#升降子序列铺满问题-贪心与dfs"><span class="nav-number">1.15.2.</span> <span class="nav-text">升降子序列铺满问题(贪心与dfs)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#纯降子序列铺满问题-最长上升子序"><span class="nav-number">1.15.3.</span> <span class="nav-text">纯降子序列铺满问题(最长上升子序)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最小生成树-Kruskal"><span class="nav-number">1.16.</span> <span class="nav-text">最小生成树(Kruskal)</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
